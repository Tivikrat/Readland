{% load static %}
<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Readland &bull; {{ name }}</title>
    <meta name="author" content="">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="css/normalize.css" rel="stylesheet">
    <link href="css/design.css" rel="stylesheet">

    <link rel="stylesheet" href="{% static "css/style.css" %}" type="text/css">

    <link rel="stylesheet" href="{% static "bootstrap/css/bootstrap.min.css" %}">
    <link rel="stylesheet" href="{% static "fonts/material-icons.min.css" %}">
    <link rel="stylesheet" href="{% static "css/Contact-Form-Clean.css" %}">
    <link rel="stylesheet" href="{% static "css/Form-Select---Full-Date---Month-Day-Year.css" %}">
    <link rel="stylesheet" href="{% static "css/styles.css" %}">
    <link rel="stylesheet" href="{% static "css/Footer-Basic.css" %}">
    <link rel="stylesheet" href="{% static "css/Footer-Clean.css" %}">
    <link rel="stylesheet" href="{% static "css/Navigation-Clean.css" %}">
    <link rel="stylesheet" href="{% static "css/styles.min.css" %}">
    <link rel="stylesheet" href="{% static "fonts/fontawesome-all.min.css" %}">
    <link rel="stylesheet" href="{% static "fonts/font-awesome.min.css" %}">
    <link rel="stylesheet" href="{% static "fonts/material-icons.min.css" %}">
    <link rel="stylesheet" href="{% static "fonts/fontawesome5-overrides.min.css" %}">
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.min.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script type="text/javascript" src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>

    <!-- Google Fonts -->
    <link href='http://fonts.googleapis.com/css?family=Playfair+Display:400,700,400italic|Roboto:400,300,700'
          rel='stylesheet' type='text/css'>
</head>

<body>
<nav class="navbar navbar-light navbar-expand-md navigation-clean" id="wrap"
     style="background-color: #25263a;padding-top: 0px;padding-bottom: 0px;flex: 0 0 auto;">
    <div class="container">
        <a class="navbar-brand" href="/">
            <img src="{% static "img/LogoLong.png" %}">
        </a>
        <button data-toggle="collapse" class="navbar-toggler" data-target="#navcol-1"><span class="sr-only">Toggle navigation</span><span
                class="navbar-toggler-icon"></span></button>
        <div class="collapse navbar-collapse" id="navcol-1">
            <ul class="nav navbar-nav ml-auto">
                <li class="nav-item d-block" role="presentation">
                    <form class="form-inline mr-auto" target="_self">
                        <div class="form-group d-flex justify-content-end"
                             style="border-bottom: 3px solid white;padding-right: 5px;padding-left: 5px;"><input
                                class="form-control search-field" type="search" id="search-field" name="search"
                                style="border: 0px;margin-top: 22px;background-color: #25263a;font-size: 20px;"
                                placeholder="Search" onclick="window.location.href = '/books/search/'"><i
                                class="fa fa-search"
                                style="font-size: 40px;color: #e7dfed;font-weight: normal;font-style: normal;padding-top: 16px;"></i>
                        </div>
                    </form>
                </li>
                {#                <li class="nav-item" role="presentation"><a class="nav-link" href="#"#}
                {#                                                            style="padding-right: 0px;padding-left: 0px;"><img#}
                {#                        src="{% static "img/cart.png" %}" style="padding-left: 5px;padding-right: 5px;"></a></li>#}
                {#                <li class="nav-item" role="presentation"><a class="nav-link" href="#" style="padding-left: 0px;"><img#}
                {#                        src="{% static "img/smeshko.png" %}" style="padding-right: 5px;padding-left: 5px;"></a></li>#}
                <li role="presentation" class="nav-item">
                    <div style="width: 2px;background-color: #a4a4a4;height: 60px;margin-right: 20px;margin-top: 10px;margin-left: 20px;"></div>
                </li>
                {% if anon == True %}
                    <li role="presentation" class="nav-item"><a class="btn btn-primary" role="button"
                                                                href="/accounts/google/login"
                                                                style="margin-top: 20px;background-color: #9b9bfd;">Log
                        In</a></li>
                {% else %}

                    <li role="presentation" class="nav-item">
                        <form action="/accounts/logout/" method="post">
                            <button class="btn btn-primary" type="submit"
                                    style="margin-top: 20px;background-color: #9b9bfd;">Log Out
                            </button>
                        </form>
                        {#                    <a class="btn btn-primary" role="button" href="/accounts/logout" style="margin-top: 20px;background-color: #9b9bfd;">Log Out</a>#}
                    </li>
                {% endif %}
            </ul>
        </div>
    </div>
</nav>
<br/>
<br/>
<section class="main">
    <h1>Профиль</h1>
    <hr class="style-six">

  

    <div class="profile">
        <div id="AccountMoney">
            <!--<h4>Счет аккаунта: ${{ user.balance }}</h4>-->
        </div>
        <br>
        <br>
        <br>
        <div id="ProfilePic">
            {% if user.photo %}

                <p><img alt="no photo" src="{{ user.photo.url }}"></p>
            {% else %}

            {% endif %}
        </div>

        <div class="basicInfo">
            <h2 style="font-size:3em;">{{ user.username }}</h2>
            <h2>{{ user.first_name }} {{ user.last_name }}</h2>
            <!--<h3><div class="info">Эл. почта: <a href="mailto:maaaks@gmail.com">{{ auth_user.email }}<a/></div></h3>-->
            <h3>
                <div class="info">Телефон: <a href="tel:+3809723049">+{{ user.mobile_phone }}<a/></div>
            </h3>
            <h3>
                <div class="info">О себе</div>
            </h3>
            <h3>{{ user.about }}</h3>
        </div>
    </div>
    <br/>
    <br/>
    <h1>Мои Книги</h1>
    <hr class="style-six">
    <style>
        .profile {
            background: white !important;
            padding: 20px;
            border-radius: 5px;
            border: solid lightgrey 0.5px;
            height: 550px;
        }

        hr.style-six {
            border: 0;
            height: 0;
            border-top: 1px solid rgba(0, 0, 0, 0.1);
            border-bottom: 1px solid rgba(255, 255, 255, 0.3);
        }

        body {
            padding: 0px;
            margin: 0px;
            font-family: "Roboto", arial, sans-serif;
            font-size: 18px;
            font-weight: 300;
            line-height: 1.8;
            color: #222;
            background: #E9EBEE;
        }

        .basicInfo {
            padding-left: 315px;
        }

        #grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            grid-gap: 7vw;
        }

        #grid > div {
            font-size: 5vw;
            padding: .5em;
            text-align: center;
        }

        .myBook {
            width: 200px;
            height: 120px;
            margin-bottom: 100px;
            padding: 20px;
        }

        /* resize images */
        .myBook img {

            width: 183.333333333px;
            height: 283.333333333px;
            object-fit: cover;

            display: inline-block;
            background-repeat: no-repeat;
            background-position: center center;
            background-size: cover;
        }


        #ProfilePic img {
            position: absolute;
            padding-top: 5px;
            display: inline-block;
            width: 285px;
            height: 285px;
            border-radius: 50%;

            background-repeat: no-repeat;
            background-position: center center;
            background-size: cover;
        }

        .info {
            color: #90949C;
        }

        .main {
            padding-left: 200px;
            padding-right: 200px;
        }

        #AccountMoney {
            margin-top: 5px;
            position: relative;
            float: right; /* Обтекание по правому краю */
        }

        @media screen and (max-width: 400px) {
            .main {
                flex-direction: column;
            }

            @media screen and (min-width: 0px) {
                section.main {
                    font-size: 30px;
                    padding: 0;
                }
            }

            @media screen and (max-width: 1000px) {
                section.main {
                    font-size: 15px;
                    padding: 0;
                }
            }
        }

    </style>
    <div class="row">
        {% for list in lists %}
            <div class="col" style="background-color: #ededed;min-height: 400px;">
                <div class="book-column" style="margin-top: 10px;"><i class="fa fa-edit d-flex float-right"
                                                                      style="font-size: 25px;"></i>
                    <div class="d-inline-flex float-left" style="margin-top: 0px;width: auto;">
                        <div class="float-right" style="margin-left: 20px;">
                            <h5 class="d-inline-flex" style="margin-right: 30px;padding-top: 10px;margin-bottom: 40px;">
                                {{ list.name }}</h5>
                            {% for list_book in list.list_books.all %}
                                <a href="/books/{{ list_book.book.id }}"><h5 style="margin-right: 30px;">{{ list_book.book.name }}</h5></a>
                            {% endfor %}
                            <div class="ui-widget">
                              <label for="book_search_{{ list.id }}">Книги: </label>
                              <input id="book_search_{{ list.id }}">
                            </div>
                        <script type="text/javascript">
                            $( document ).ready(function() {
                                $(function () {
                                    $("#book_search_{{ list.id }}").autocomplete({
                                        source: function (request, response) {
                                            $.ajax({
                                                url: "/books/suggestions/",
                                                dataType: "json",
                                                data: {
                                                    name: request.term
                                                },
                                                success: function (data) {
                                                    response(data);
                                                }
                                            });
                                        },
                                        focus: function (event, ui) {
                                            $("#book_search_{{ list.id }}").val(ui.item.name);
                                            return false;
                                        },
                                        select: function (event, ui) {
                                            // <int:user_id>/list/<int:list_id>/add/<int:book_id>/
                                            window.location.href = "/user/{{ user.id }}/list/{{ list.id }}/add/" + ui.item.id + "/";
                                        }
                                    }).autocomplete("instance")._renderItem = function (ul, item) {
                                        return $("<li>")
                                            .append("<div>" + item.name + "</div>")
                                            .appendTo(ul);
                                    };
                                });
                            });
                    </script>
                            </h5>
                        </div>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
    {#<div id="grid">#}
    {#  <div class="myBook">#}
    {#  <img src="https://games-reviews.net/_pu/11/s74617345.jpg">#}
    {#  </div>#}
    {#  <div class="myBook">#}
    {#  <img src="https://i.livelib.ru/boocover/1002326231/140/551e/Dzh._K._Rouling__Garri_Potter_i_uznik_Azkabana.jpg">#}
    {#  </div>#}
    {#  <div class="myBook">#}
    {#  <img src="https://i.livelib.ru/boocover/1002281151/140/60e6/Stiven_King__Zelenaya_milya.jpg">#}
    {#  </div>#}
    {#  <div class="myBook">#}
    {#  <img src="https://i2.rozetka.ua/goods/13707749/116445787_images_13707749899.jpg">#}
    {#  </div>#}
    {#  <div class="myBook">#}
    {#  <img src="https://static.thenounproject.com/png/111365-200.png" style="width:141.666666666px !important;height:141.666666666px !important; margin-top: 70.833333333px">#}
    {#  </div>#}
    {#</div>#}

</section>

<br/>
<br/>
<br/>
<br/>
<br/>


<script src="js/script.js"></script>
<div class="footer-basic" id="footer" onloadstart="positionateBottom(this)">
    <footer class="text-center" style="height: 60px !important;padding-top: 10px;background-color: rgb(37,38,58);">
        <p class="copyright" style="font-family: 'Source Sans Pro', sans-serif;font-size: 20px;font-weight: normal;">©
            Readland 2019</p>
    </footer>z
</div>

</body>

</html>